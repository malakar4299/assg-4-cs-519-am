{"ast":null,"code":"import _toConsumableArray from\"/Users/Abhishek/Desktop/Boston University/CS-519/assg-4/Frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/Abhishek/Desktop/Boston University/CS-519/assg-4/Frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import{Chart as ChartJS,ArcElement,Tooltip,Legend}from'chart.js';import{Doughnut}from'react-chartjs-2';import axios from'axios';import{api_config,api_url}from'../../utils/api_config';import{jsx as _jsx}from\"react/jsx-runtime\";ChartJS.register(ArcElement,Tooltip,Legend);var ReportPie=function ReportPie(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),shipperData=_useState2[0],setShipperData=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),boxesData=_useState4[0],setBoxesData=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),dataRecieved=_useState6[0],setdataRecieved=_useState6[1];var options={responsive:true,plugins:{legend:{position:'top'},title:{display:true,text:'Shipper-Boxes Distribution'}},maintainAspectRatio:false};useEffect(function(){axios.get(\"\".concat(api_url,\"/get-shipper-boxes\"),api_config).then(function(result){var shipperIds=result.data.reduce(function(acc,data){return[].concat(_toConsumableArray(acc),[data.ShipperID]);},[]);var boxes=result.data.reduce(function(acc,data){return[].concat(_toConsumableArray(acc),[data.TotalBoxes]);},[]);setShipperData(shipperIds);setBoxesData(boxes);}).then(function(result){console.log(shipperData,boxesData);setdataRecieved(true);});},[]);var data={labels:shipperData,datasets:[{label:'Total Boxes Recieved',data:boxesData,backgroundColor:['rgba(255, 99, 132, 0.2)','rgba(54, 162, 235, 0.2)','rgba(255, 206, 86, 0.2)','rgba(75, 192, 192, 0.2)','rgba(153, 102, 255, 0.2)','rgba(255, 159, 64, 0.2)'],borderColor:['rgba(255, 99, 132, 1)','rgba(54, 162, 235, 1)','rgba(255, 206, 86, 1)','rgba(75, 192, 192, 1)','rgba(153, 102, 255, 1)','rgba(255, 159, 64, 1)'],borderWidth:1}]};return dataRecieved?/*#__PURE__*/_jsx(Doughnut,{width:\"30%\",data:data,options:options}):null;};export default ReportPie;","map":{"version":3,"names":["useState","useEffect","Chart","ChartJS","ArcElement","Tooltip","Legend","Doughnut","axios","api_config","api_url","jsx","_jsx","register","ReportPie","_useState","_useState2","_slicedToArray","shipperData","setShipperData","_useState3","_useState4","boxesData","setBoxesData","_useState5","_useState6","dataRecieved","setdataRecieved","options","responsive","plugins","legend","position","title","display","text","maintainAspectRatio","get","concat","then","result","shipperIds","data","reduce","acc","_toConsumableArray","ShipperID","boxes","TotalBoxes","console","log","labels","datasets","label","backgroundColor","borderColor","borderWidth","width"],"sources":["/Users/Abhishek/Desktop/Boston University/CS-519/assg-4/Frontend/src/Components/Report/ReportPie.tsx"],"sourcesContent":["import {useState, useEffect} from 'react';\nimport { Chart as ChartJS, ArcElement, Tooltip, Legend } from 'chart.js';\nimport { Doughnut } from 'react-chartjs-2';\nimport axios from 'axios';\nimport { api_config, api_url } from '../../utils/api_config';\nimport { PieChartData } from '../../Interfaces/config';\n\nChartJS.register(ArcElement, Tooltip, Legend);\n\nconst ReportPie = () => {\n\n    const [shipperData, setShipperData] = useState([]);\n    const [boxesData, setBoxesData] = useState([]);\n    const [dataRecieved, setdataRecieved] = useState(false);\n\n    const options = {\n        responsive: true,\n        plugins: {\n          legend: {\n            position: 'top' as const,\n          },\n          title: {\n            display: true,\n            text: 'Shipper-Boxes Distribution',\n          }\n        },\n        maintainAspectRatio: false\n      };\n\n    useEffect(() => {\n        axios.get(`${api_url}/get-shipper-boxes`, api_config).then(result => {\n            let shipperIds = result.data.reduce((acc:[], data:PieChartData) => {\n                return [...acc, data.ShipperID]\n            }, [])\n            let boxes = result.data.reduce((acc:[], data:PieChartData) => {\n                return [...acc, data.TotalBoxes]\n            }, [])\n            setShipperData(shipperIds)\n            setBoxesData(boxes)\n        }).then(result => {\n            console.log(shipperData, boxesData)\n            setdataRecieved(true)\n        })\n    }, []);\n\n    const data = {\n        labels: shipperData,\n        datasets: [\n          {\n            label: 'Total Boxes Recieved',\n            data: boxesData,\n            backgroundColor: [\n              'rgba(255, 99, 132, 0.2)',\n              'rgba(54, 162, 235, 0.2)',\n              'rgba(255, 206, 86, 0.2)',\n              'rgba(75, 192, 192, 0.2)',\n              'rgba(153, 102, 255, 0.2)',\n              'rgba(255, 159, 64, 0.2)',\n            ],\n            borderColor: [\n              'rgba(255, 99, 132, 1)',\n              'rgba(54, 162, 235, 1)',\n              'rgba(255, 206, 86, 1)',\n              'rgba(75, 192, 192, 1)',\n              'rgba(153, 102, 255, 1)',\n              'rgba(255, 159, 64, 1)',\n            ],\n            borderWidth: 1,\n          },\n        ],\n      };\n\n    return dataRecieved?<Doughnut width={\"30%\"} data={data} options={options} />:null;\n}\n\nexport default ReportPie\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}